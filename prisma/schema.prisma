generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["relationJoins"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model PreviewPage {
  id                Int               @id @default(autoincrement())
  blocks            Block[]           @relation("PreviewPageToBlocks")
  blockOrder        String[]
  title             String            @default("Page Title")
  description       String            @default("Page Description")
  backgroundColor   String?
  homePage          HomePage?         @relation("PreviewPageToHomePage", fields: [homePageId], references: [id])
  homePageId        Int?
  webPage           WebPage?          @relation("PreviewPageToWebPage", fields: [webPageId], references: [id])
  webPageId         Int?
  article           Article?          @relation("PreviewPageToArticle", fields: [articleId], references: [id])
  articleId         Int?
  isActive          Boolean           @default(true)
  thumbnail         Image?            @relation("PreviewPageImage")
  articleCategories ArticleCategory[] @relation("ArticleCategoryToPreviewPage")

  publishedAt String?
  publisher   String?
  createdAt   String?
  updatedAt   String?
}

model HomePage {
  id              Int           @id @default(autoincrement())
  blocks          Block[]       @relation("HomePageToBlocks")
  blockOrder      String[]
  title           String        @default("Homepage")
  description     String        @default("HomePage Description")
  backgroundColor String?
  previewPage     PreviewPage[] @relation("PreviewPageToHomePage")

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model WebPage {
  id              Int           @id @default(autoincrement())
  blocks          Block[]       @relation("WebPagesToBlocks")
  blockOrder      String[]
  description     String        @default("Page Description")
  isActive        Boolean       @default(true)
  thumbnail       Image?        @relation("WebPageImage")
  title           String        @unique
  backgroundColor String?
  previewPage     PreviewPage[] @relation("PreviewPageToWebPage")

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model Block {
  id             String        @id @unique @default(cuid())
  previewPage    PreviewPage[] @relation("PreviewPageToBlocks")
  article        Article[]     @relation("ArticlesToBlocks")
  articleBlock   ArticleBlock? @relation("BlockToArticleBlock", fields: [articleBlockId], references: [id])
  articleBlockId String?       @unique
  bannerBlock    BannerBlock?  @relation("BlockToBannerBlock", fields: [bannerBlockId], references: [id])
  bannerBlockId  String?       @unique

  carouselBlock   CarouselBlock? @relation("BlockToCarouselBlock", fields: [carouselBlockId], references: [id])
  carouselBlockId String?        @unique

  blockOptions   BlockOptions[] @relation("BlockToBlockOptions")
  heroBlock      HeroBlock?     @relation("BlockToHeroBlock", fields: [heroBlockId], references: [id])
  heroBlockId    String?        @unique
  homePage       HomePage[]     @relation("HomePageToBlocks")
  productBlock   ProductBlock?  @relation("BlockToProductBlock", fields: [productBlockId], references: [id])
  productBlockId String?        @unique
  textBlock      TextBlock?     @relation("BlockToTextBlock", fields: [textBlockId], references: [id])
  textBlockId    String?        @unique
  tileBlock      TileBlock?     @relation("BlockToTileBlock", fields: [tileBlockId], references: [id])
  tileBlockId    String?        @unique
  mapBlock       MapBlock?      @relation("BlockToMapBlock", fields: [mapBlockId], references: [id])
  mapBlockId     String?        @unique
  webPage        WebPage[]      @relation("WebPagesToBlocks")

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model BlockOptions {
  id                                      String     @id @unique @default(cuid())
  align                                   String?
  alignMobile                             String?
  autoplay                                Boolean?
  backgroundBrightness                    Float?
  backgroundBrightnessSecondary           Float?
  backgroundColor                         String?
  backgroundColorSecondary                String?
  backgroundDisplay                       String?
  backgroundPatternColor                  String?
  backgroundPatternColorSecondary         String?
  backgroundPatternName                   String?
  backgroundPatternNameSecondary          String?
  backgroundPatternOpacity                Float?
  backgroundPatternOpacitySecondary       Float?
  backgroundPatternSize                   Int?
  backgroundPatternSizeSecondary          Int?
  backgroundWidth                         String?
  backgroundWidthSecondary                String?
  block                                   Block      @relation("BlockToBlockOptions", fields: [blockId], references: [id])
  blockId                                 String
  borderColor                             String?
  borderDisplay                           String?
  borderRadius                            String?
  borderSize                              String?
  buttonAlign                             String?
  buttonBorderColorPrimary                String?
  buttonBorderColorSecondary              String?
  buttonColorPrimary                      String?
  buttonColorSecondary                    String?
  buttonLabelColorPrimary                 String?
  buttonLabelColorSecondary               String?
  buttonLabelPrimary                      String?
  buttonLabelSecondary                    String?
  buttonLinkPrimary                       String?
  buttonLinkSecondary                     String?
  buttonPrimary                           String?
  buttonSecondary                         String?
  colorPrimary                            String?
  colorSecondary                          String?
  columns                                 Float?
  columnsMobile                           Float?
  count                                   Int?
  flipX                                   String?
  height                                  String?
  heightMobile                            String?
  imagePosition                           String?
  imagePositionMobile                     String?
  itemAlign                               String[]
  itemAlignMobile                         String[]
  itemBorderColors                        String[]
  itemBorderDisplays                      String[]
  itemBorderRadius                        String[]
  itemBorderSizes                         String[]
  itemButtonAlign                         String[]
  itemColorOpacity                        String[]
  itemColors                              String[]
  itemFilters                             String[]
  itemImagePositions                      String[]
  itemImagePositionsMobile                String[]
  itemJustify                             String[]
  itemJustifyMobile                       String[]
  itemLinks                               String[]
  itemButtonBorderColorsPrimary           String[]
  itemButtonColorsPrimary                 String[]
  itemButtonLabelColorsPrimary            String[]
  itemButtonLabelsPrimary                 String[]
  itemButtonLinksPrimary                  String[]
  itemButtonsPrimary                      String[]
  itemBackgroundBrightnessesSecondary     Float[]
  itemBackgroundPatternNamesSecondary     String[]
  itemBackgroundPatternColorsSecondary    String[]
  itemBackgroundWidthsSecondary           String[]
  itemBackgroundDisplaysSecondary         String[]
  itemBackgroundPatternSizesSecondary     Int[]
  itemBackgroundPatternOpacitiesSecondary Float[]
  itemBackgroundColorsSecondary           String[]
  itemBackgroundColorsPrimary             String[]
  itemBackgroundBrightnessesPrimary       Float[]
  itemBackgroundPatternNamesPrimary       String[]
  itemBackgroundPatternColorsPrimary      String[]
  itemBackgroundWidthsPrimary             String[]
  itemBackgroundDisplaysPrimary           String[]
  itemBackgroundPatternSizesPrimary       Int[]
  itemBackgroundPatternOpacitiesPrimary   Float[]
  itemButtonBorderColorsSecondary         String[]
  itemButtonColorsSecondary               String[]
  itemButtonLabelColorsSecondary          String[]
  itemButtonLabelsSecondary               String[]
  itemButtonLinksSecondary                String[]
  itemButtonsSecondary                    String[]
  itemColorsSecondary                     String[]
  itemShortText                           String[]
  itemShortTextColors                     String[]
  itemShortTextSizes                      String[]
  itemShortTextSizesMobile                String[]
  itemTitleColors                         String[]
  itemTitles                              String[]
  itemTitleFontWeights                    String[]
  itemTitleFontWeightsMobile              String[]
  itemTitleSizes                          String[]
  itemTitleSizesMobile                    String[]
  justify                                 String?
  justifyMobile                           String?
  linkPrimary                             String?
  linkSecondary                           String?
  margin                                  String?
  order                                   Int?
  padding                                 String?
  rows                                    Int?
  shortText                               String?
  shortTextColor                          String?
  size                                    String?
  sizeMobile                              String?
  sortBy                                  SortBy?
  sortOrder                               SortOrder?
  speed                                   Int?
  style                                   String?
  title                                   String?
  titleAlign                              String?
  titleColor                              String?
  titleSize                               String?
  titleSizeMobile                         String?
  titleFontWeight                         String?
  titleFontWeightMobile                   String?
  width                                   String?
  widthMobile                             String?
  createdAt                               String     @default("2023-12-07T15:30:00Z")
  updatedAt                               String     @default("2023-12-07T15:30:00Z")
}

model HeroBlock {
  id      String            @id @unique @default(cuid())
  block   Block?            @relation("BlockToHeroBlock")
  content HeroBlockContent? @relation("HeroBlockContentToHeroBlock")
  name    String            @default("hero")

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model HeroBlockContent {
  id          String     @id @unique @default(cuid())
  image       Image?     @relation("ImageToHeroBlockContent", fields: [imageId], references: [id])
  imageId     Int?
  heroBlock   HeroBlock? @relation("HeroBlockContentToHeroBlock", fields: [heroBlockId], references: [id])
  heroBlockId String?    @unique
  product     Product?   @relation("ProductToHeroBlockContent", fields: [productId], references: [id])
  productId   Int?

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model BannerBlock {
  id      String              @id @unique @default(cuid())
  block   Block?              @relation("BlockToBannerBlock")
  content BannerBlockContent? @relation("BannerBlockContentToBannerBlock")
  name    String              @default("banner")

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model BannerBlockContent {
  id            String       @id @unique @default(cuid())
  bannerBlock   BannerBlock? @relation("BannerBlockContentToBannerBlock", fields: [bannerBlockId], references: [id])
  bannerBlockId String?      @unique
  campaign      Campaign?    @relation("CampaignToBannerBlockContent", fields: [campaignId], references: [id])
  campaignId    Int?
  image         Image?       @relation("ImageToBannerBlockContent", fields: [imageId], references: [id])
  imageId       Int?
  promotion     Promotion?   @relation("PromotionToBannerBlockContent", fields: [promotionId], references: [id])
  promotionId   Int?

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model CarouselBlock {
  id      String                @id @unique @default(cuid())
  block   Block?                @relation("BlockToCarouselBlock")
  content CarouselBlockContent? @relation("CarouselBlockContentToCarouselBlock")
  name    String                @default("carousel")

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model CarouselBlockContent {
  id              String         @id @unique @default(cuid())
  carouselBlock   CarouselBlock? @relation("CarouselBlockContentToCarouselBlock", fields: [carouselBlockId], references: [id])
  carouselBlockId String?        @unique
  image           Image[]        @relation("ImageToCarouselBlockContent")
  emptyItem       String[]

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model TileBlock {
  id      String            @id @unique @default(cuid())
  block   Block?            @relation("BlockToTileBlock")
  content TileBlockContent? @relation("TileBlockContentToTileBlock")
  name    String            @default("tile")

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model TileBlockContent {
  id        String      @id @unique @default(cuid())
  campaign  Campaign[]  @relation("CampaignToTileBlockContent")
  promotion Promotion[] @relation("PromotionToTileBlockContent")
  brand     Brand[]     @relation("BrandToTileBlockContent")
  image     Image[]     @relation("ImageToTileBlockContent")
  icon      String[]

  tileBlock   TileBlock? @relation("TileBlockContentToTileBlock", fields: [tileBlockId], references: [id])
  tileBlockId String?    @unique

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model TextBlock {
  id      String            @id @unique @default(cuid())
  block   Block?            @relation("BlockToTextBlock")
  content TextBlockContent? @relation("TextBlockContentToTextBlock")
  name    String            @default("text")

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model TextBlockContent {
  id          String     @id @unique @default(cuid())
  richText    String
  textBlock   TextBlock? @relation("TextBlockContentToTextBlock", fields: [textBlockId], references: [id])
  textBlockId String?    @unique

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model ProductBlock {
  id      String               @id @unique @default(cuid())
  block   Block?               @relation("BlockToProductBlock")
  content ProductBlockContent? @relation("ProductBlockContentToProductBlock")
  name    String               @default("product")

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model ProductBlockContent {
  id                   String              @id @unique @default(cuid())
  brand                Brand?              @relation("BrandToProductBlock", fields: [brandId], references: [id])
  brandId              Int?
  gender               Gender?
  productBlock         ProductBlock?       @relation("ProductBlockContentToProductBlock", fields: [productBlockId], references: [id])
  productBlockId       String?             @unique
  productCategory      ProductCategory?    @relation("ProductCategoryToProductBlock", fields: [productCategoryId], references: [id])
  productCategoryId    Int?
  productSubCategory   ProductSubCategory? @relation("ProductSubCategoryToProductBlock", fields: [productSubCategoryId], references: [id])
  productSubCategoryId Int?

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model ArticleBlock {
  id      String               @id @unique @default(cuid())
  block   Block?               @relation("BlockToArticleBlock")
  content ArticleBlockContent? @relation("ArticleBlockContentToArticleBlock")
  name    String               @default("product")

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model ArticleBlockContent {
  id                String           @id @unique @default(cuid())
  articleBlock      ArticleBlock?    @relation("ArticleBlockContentToArticleBlock", fields: [articleBlockId], references: [id])
  articleBlockId    String?          @unique
  articleCategory   ArticleCategory? @relation("ArticleCategoryToArticleBlock", fields: [articleCategoryId], references: [id])
  articleCategoryId Int?

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model MapBlock {
  id      String           @id @unique @default(cuid())
  block   Block?           @relation("BlockToMapBlock")
  content MapBlockContent? @relation("MapBlockContentToMapBlock")
  name    String           @default("map")

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model MapBlockContent {
  id         String    @id @unique @default(cuid())
  mapBlock   MapBlock? @relation("MapBlockContentToMapBlock", fields: [mapBlockId], references: [id])
  mapBlockId String?   @unique
  store      Store[]   @relation("StoreToMapBlockContent")

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model Store {
  id                Int               @id @default(autoincrement())
  name              String
  phoneNumber       String?
  faxNumber         String?
  address           Address?
  stock             StockLevel[]
  orderItem         OrderItem[]
  staff             Staff[]           @relation("StaffStore")
  paymentProviderId String?
  isActive          Boolean           @default(true)
  mapBlockContent   MapBlockContent[] @relation("StoreToMapBlockContent")
  team              Team[]

  fromStoreStockRequest StockTransferRequest[] @relation("FromStoreStockRequest")
  toStoreStockRequest   StockTransferRequest[] @relation("ToStoreStockRequest")

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model Team {
  id       Int     @id @default(autoincrement())
  name     String
  staff    Staff[]
  store    Store?  @relation(fields: [storeId], references: [id])
  storeId  Int?
  isActive Boolean @default(true)

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model Staff {
  id                   String       @id @unique @default(cuid())
  address              Address?
  avatar               Image?       @relation("StaffAvatarImage")
  doubleAuthentication Boolean      @default(false)
  email                String       @unique
  isActive             Boolean      @default(true)
  role                 Role         @default(STAFF)
  jobTitle             String?
  password             String?
  userDetails          UserDetails?
  userDetailsId        String?      @unique
  store                Store?       @relation("StaffStore", fields: [storeId], references: [id])
  storeId              Int?
  team                 Team?        @relation(fields: [teamId], references: [id])
  teamId               Int?

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model User {
  id                   String       @id @unique @default(cuid())
  address              Address?
  avatar               Image?       @relation("AvatarImage")
  cart                 Cart?
  doubleAuthentication Boolean      @default(false)
  email                String       @unique
  googleEmail          String?
  googleLogin          Boolean      @default(false)
  isActive             Boolean      @default(true)
  microsoftEmail       String?
  microsoftLogin       Boolean      @default(false)
  orders               Order[]
  password             String?
  role                 Role         @default(USER)
  userDetails          UserDetails?
  userDetailsId        String?      @unique
  verified             Boolean      @default(false)

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model Verifier {
  id         Int         @id @default(autoincrement())
  code       String?     @default(cuid())
  email      String      @unique
  expiration DateTime    @default(dbgenerated("NOW() + interval '3 hours'"))
  type       VerifyTypes

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model UserDetails {
  id          String  @id @unique @default(cuid())
  dateOfBirth String?
  firstName   String?
  gender      Gender?
  lastName    String?
  phoneNumber String?
  staff       Staff?  @relation(fields: [staffId], references: [id])
  staffId     String? @unique
  user        User?   @relation(fields: [userId], references: [id])
  userId      String? @unique

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model Address {
  id           String  @id @unique @default(cuid())
  addressLine1 String?
  addressLine2 String?
  country      String?
  postcode     String?
  state        String?
  suburb       String?
  staff        Staff?  @relation(fields: [staffId], references: [id])
  staffId      String? @unique
  user         User?   @relation(fields: [userId], references: [id])
  userId       String? @unique
  order        Order?  @relation(fields: [orderId], references: [orderId])
  orderId      String? @unique
  store        Store?  @relation(fields: [storeId], references: [id])
  storeId      Int?    @unique
  latitude     String?
  longitude    String?

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model Cart {
  id        Int        @id @default(autoincrement())
  cartItems CartItem[]
  user      User?      @relation(fields: [userId], references: [id])
  userId    String?    @unique

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model CartItem {
  id        Int            @id @default(autoincrement())
  cart      Cart           @relation(fields: [cartId], references: [id])
  cartId    Int
  quantity  Int            @default(1)
  variant   ProductVariant @relation(fields: [variantId], references: [id])
  variantId Int

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model Order {
  orderId             String      @id @unique @default(cuid())
  items               OrderItem[]
  rememberInformation Boolean     @default(false)
  paymentCode         String
  paymentLinkId       String
  paymentUrl          String
  status              OrderStatus
  totalPrice          Float
  user                User?       @relation(fields: [userId], references: [id])
  userId              String?
  address             Address?
  firstName           String?
  lastName            String?
  shippingMethod      String?
  shippingPrice       String?
  trackingNumber      String?
  phoneNumber         String?
  email               String?

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model OrderItem {
  id        Int            @id @default(autoincrement())
  order     Order          @relation(fields: [orderId], references: [orderId])
  orderId   String
  quantity  Int
  unitPrice Int
  variant   ProductVariant @relation(fields: [variantId], references: [id])
  variantId Int
  store     Store?         @relation(fields: [storeId], references: [id])
  storeId   Int

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model Image {
  id                   Int                    @id @default(autoincrement())
  href                 String?
  altText              String?
  article              Article?               @relation("ArticleImage", fields: [articleId], references: [id])
  articleId            Int?                   @unique
  bannerBlockContent   BannerBlockContent[]   @relation("ImageToBannerBlockContent")
  brand                Brand?                 @relation("BrandImage", fields: [brandId], references: [id])
  brandId              Int?                   @unique
  campaignBanner       Campaign[]             @relation("BannerImageToCampaign")
  campaignTile         Campaign[]             @relation("TileImageToCampaign")
  carouselBlockContent CarouselBlockContent[] @relation("ImageToCarouselBlockContent")
  HeroBlockContent     HeroBlockContent[]     @relation("ImageToHeroBlockContent")
  product              Product?               @relation(fields: [productId], references: [id])
  productHero          Product[]              @relation("ProductHeroToProduct")
  productId            Int?
  productSubCategory   ProductSubCategory?    @relation("ProductSubCategoryImage", fields: [productSubCategoryId], references: [id])
  productSubCategoryId Int?                   @unique
  promotionBanner      Promotion[]            @relation("BannerImageToPromotion")
  promotionTile        Promotion[]            @relation("TileImageToPromotion")
  tileBlockContent     TileBlockContent[]     @relation("ImageToTileBlockContent")
  user                 User?                  @relation("AvatarImage", fields: [userId], references: [id])
  userId               String?                @unique
  staff                Staff?                 @relation("StaffAvatarImage", fields: [staffId], references: [id])
  staffId              String?                @unique
  webPage              WebPage?               @relation("WebPageImage", fields: [webPageId], references: [id])
  webPageId            Int?                   @unique

  previewPage   PreviewPage? @relation("PreviewPageImage", fields: [previewPageId], references: [id])
  previewPageId Int?         @unique

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model Department {
  id                  Int               @id @default(autoincrement())
  campaigns           Campaign[]
  displayInNavigation Boolean           @default(true)
  index               Int               @default(0)
  isActive            Boolean           @default(true)
  name                String            @unique
  productCategories   ProductCategory[] @relation("DepartmentToProductCategory")
  promotions          Promotion[]

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model ProductCategory {
  id                   Int                   @id @default(autoincrement())
  articleCategories    ArticleCategory[]     @relation("ProductCategoryToArticleCategory")
  department           Department?           @relation("DepartmentToProductCategory", fields: [departmentId], references: [id])
  departmentId         Int?
  displayInNavigation  Boolean               @default(true)
  index                Int                   @default(0)
  isActive             Boolean               @default(true)
  name                 String                @unique
  productBlockContent  ProductBlockContent[] @relation("ProductCategoryToProductBlock")
  productSubCategories ProductSubCategory[]  @relation("ProductCategoryToProductSubCategory")

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model ArticleCategory {
  id                   Int                   @id @default(autoincrement())
  articleBlockContent  ArticleBlockContent[] @relation("ArticleCategoryToArticleBlock")
  articles             Article[]             @relation("ArticleCategoryToArticle")
  previewPages         PreviewPage[]         @relation("ArticleCategoryToPreviewPage")
  isActive             Boolean               @default(true)
  name                 String                @unique
  productCategory      ProductCategory?      @relation("ProductCategoryToArticleCategory", fields: [subProductCategoryId], references: [id])
  subProductCategoryId Int?

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model ProductSubCategory {
  id                  Int                   @id @default(autoincrement())
  campaigns           Campaign[]            @relation("ProductSubCategoryToCampaign")
  displayInNavigation Boolean               @default(true)
  image               Image?                @relation("ProductSubCategoryImage")
  imageId             Int?
  index               Int                   @default(0)
  isActive            Boolean               @default(true)
  name                String                @unique
  productBlockContent ProductBlockContent[] @relation("ProductSubCategoryToProductBlock")
  productCategory     ProductCategory?      @relation("ProductCategoryToProductSubCategory", fields: [productCategoryId], references: [id])
  products            Product[]             @relation("ProductSubCategoryToProduct")
  productCategoryId   Int?

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model Article {
  id                Int               @id @default(autoincrement())
  articleCategories ArticleCategory[] @relation("ArticleCategoryToArticle")
  backgroundColor   String?
  blockOrder        String[]
  blocks            Block[]           @relation("ArticlesToBlocks")
  description       String            @default("Article Description")
  isActive          Boolean           @default(true)
  previewPage       PreviewPage[]     @relation("PreviewPageToArticle")
  thumbnail         Image?            @relation("ArticleImage")
  title             String            @unique

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model Campaign {
  id                   Int                  @id @default(autoincrement())
  bannerBlockContent   BannerBlockContent[] @relation("CampaignToBannerBlockContent")
  bannerImage          Image                @relation("BannerImageToCampaign", fields: [bannerImageId], references: [id])
  bannerImageId        Int                  @unique
  brands               Brand[]              @relation("BrandToCampaign")
  department           Department           @relation(fields: [departmentId], references: [id])
  departmentId         Int
  excludedProducts     Product[]
  isActive             Boolean              @default(false)
  maxSaleRange         Float
  minSaleRange         Float
  name                 String
  productSubCategories ProductSubCategory[] @relation("ProductSubCategoryToCampaign")
  targetGender         Gender?
  tileBlockContent     TileBlockContent[]   @relation("CampaignToTileBlockContent")
  tileImage            Image                @relation("TileImageToCampaign", fields: [tileImageId], references: [id])
  tileImageId          Int                  @unique

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model Promotion {
  id                 Int                  @id @default(autoincrement())
  bannerBlockContent BannerBlockContent[] @relation("PromotionToBannerBlockContent")
  bannerImage        Image                @relation("BannerImageToPromotion", fields: [bannerImageId], references: [id])
  bannerImageId      Int                  @unique
  department         Department           @relation(fields: [departmentId], references: [id])
  departmentId       Int
  discountPercentage Float                @default(0)
  isActive           Boolean              @default(false)
  name               String
  metaDescription    String?
  products           Product[]            @relation("PromotionToProduct")
  targetGender       Gender?
  tileBlockContent   TileBlockContent[]   @relation("PromotionToTileBlockContent")
  tileImage          Image                @relation("TileImageToPromotion", fields: [tileImageId], references: [id])
  tileImageId        Int                  @unique

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model Product {
  id                     Int                  @id @default(autoincrement())
  brand                  Brand?               @relation("BrandToProduct", fields: [brandId], references: [id])
  brandId                Int?
  campaigns              Campaign[]
  description            String
  discountPercentageHigh Float                @default(0)
  discountPercentageLow  Float                @default(0)
  gender                 Gender?
  heroBlockContent       HeroBlockContent[]   @relation("ProductToHeroBlockContent")
  heroImage              Image?               @relation("ProductHeroToProduct", fields: [heroImageId], references: [id])
  heroImageId            Int?                 @unique
  images                 Image[]
  infoURL                String?
  isActive               Boolean              @default(true)
  name                   String
  productSubCategories   ProductSubCategory[] @relation("ProductSubCategoryToProduct")
  promotion              Promotion?           @relation("PromotionToProduct", fields: [promotionId], references: [id])
  promotionId            Int?
  totalSold              Int                  @default(0)
  variants               ProductVariant[]     @relation("ProductVariants")

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model ProductVariant {
  id                   Int                    @id @default(autoincrement())
  cartItems            CartItem[]
  color                Color?
  height               Int                    @default(0)
  isActive             Boolean                @default(true)
  isFragile            Boolean                @default(false)
  isOnSale             Boolean                @default(false)
  isPromoted           Boolean                @default(false)
  length               Int                    @default(0)
  name                 String
  orderId              String?
  orderItems           OrderItem[]
  price                Float
  product              Product                @relation("ProductVariants", fields: [productId], references: [id])
  productId            Int
  salePrice            Float?
  size                 String?
  sku                  String                 @unique
  stock                StockLevel[]
  stockTransferRequest StockTransferRequest[] @relation("ProductVariantStockRequest")
  totalSold            Int                    @default(0)
  weight               Float                  @default(0.0)
  width                Int                    @default(0)

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model StockLevel {
  id               Int             @id @default(autoincrement())
  productVariant   ProductVariant? @relation(fields: [productVariantId], references: [id])
  productVariantId Int
  quantity         Int
  store            Store?          @relation(fields: [storeId], references: [id])
  storeId          Int

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")

  @@unique([productVariantId, storeId])
}

model StockTransferRequest {
  id               Int            @id @default(autoincrement())
  fromStore        Store?         @relation("FromStoreStockRequest", fields: [fromStoreId], references: [id])
  fromStoreId      Int
  productVariant   ProductVariant @relation("ProductVariantStockRequest", fields: [productVariantId], references: [id])
  productVariantId Int
  quantity         Int
  status           ApprovalStatus @default(created)
  trackingNumber   String?
  toStore          Store?         @relation("ToStoreStockRequest", fields: [toStoreId], references: [id])
  toStoreId        Int
  approvedBy       String?
  createdBy        String

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

model Brand {
  id                  Int                   @id @unique @default(autoincrement())
  campaigns           Campaign[]            @relation("BrandToCampaign")
  image               Image?                @relation("BrandImage")
  imageId             Int?
  name                String                @unique
  productBlockContent ProductBlockContent[] @relation("BrandToProductBlock")
  products            Product[]             @relation("BrandToProduct")
  tileBlockContent    TileBlockContent[]    @relation("BrandToTileBlockContent")

  createdAt String @default("2023-12-07T15:30:00Z")
  updatedAt String @default("2023-12-07T15:30:00Z")
}

enum Role {
  DEVELOPER
  ADMIN
  MANAGER
  STAFF
  EDITOR
  USER
}

enum VerifyTypes {
  email
  password
}

enum Gender {
  MALE
  FEMALE
  KIDS
  UNISEX
}

enum OrderStatus {
  created
  cancelled
  paid
  shipped
  complete
}

enum ApprovalStatus {
  created
  cancelled
  approved
  processing
  complete
}

enum SortBy {
  createdAt
  totalSold
  price
  name
  title
}

enum SortOrder {
  asc
  desc
}

enum Color {
  RED
  BLUE
  GREEN
  YELLOW
  ORANGE
  PURPLE
  PINK
  BLACK
  WHITE
  GRAY
  BROWN
  SILVER
  GOLD
  NAVY
  TEAL
  MAROON
  LIME
  OLIVE
  AQUA
  INDIGO
  TRANSPARENTSM
  TRANSPARENTMD
  TRANSPARENTLG
  TRANSPARENT
}

enum PageType {
  homePage
  article
  webPage
  previewPage
}
